<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Firmware Update | Documentation</title>
    <meta name="description" content="Your guide to RTLOC&#39;s positioning products">
    <link rel="icon" href="/img/logo.png">
  <link rel="manifest" href="/manifest.json">
  <meta name="theme-color" content="#095A9E">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <link rel="apple-touch-icon" href="/icons/apple-touch-icon.png">
  <link rel="mask-icon" href="/icons/safari-pinned-tab.svg" color="#095A9E">
  <meta name="msapplication-TileImage" content="/icons/mstile-150x150.png">
  <meta name="msapplication-TileColor" content="#000000">
  <script>!function(){var analytics=window.analytics=window.analytics||[];if(!analytics.initialize)if(analytics.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{analytics.invoked=!0;analytics.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","reset","group","track","ready","alias","debug","page","once","off","on"];analytics.factory=function(t){return function(){var e=Array.prototype.slice.call(arguments);e.unshift(t);analytics.push(e);return analytics}};for(var t=0;t<analytics.methods.length;t++){var e=analytics.methods[t];analytics[e]=analytics.factory(e)}analytics.load=function(t,e){var n=document.createElement("script");n.type="text/javascript";n.async=!0;n.src="https://cdn.segment.com/analytics.js/v1/"+t+"/analytics.min.js";var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(n,a);analytics._loadOptions=e};analytics.SNIPPET_VERSION="4.1.0";
    analytics.load("6B7vSa8ecCLBUEiWTPbvB5xNfm9aMMSE");
    analytics.page();
    }}();</script>
    
    <link rel="preload" href="/assets/css/0.styles.f4681fd9.css" as="style"><link rel="preload" href="/assets/js/app.5c9a409e.js" as="script"><link rel="preload" href="/assets/js/4.3a034228.js" as="script"><link rel="preload" href="/assets/js/8.1b2c21f7.js" as="script"><link rel="preload" href="/assets/js/29.b88cfbbd.js" as="script"><link rel="preload" href="/assets/js/28.72a68e7b.js" as="script"><link rel="prefetch" href="/assets/js/1.d348f952.js"><link rel="prefetch" href="/assets/js/10.78d8cfed.js"><link rel="prefetch" href="/assets/js/11.97542590.js"><link rel="prefetch" href="/assets/js/12.4190be1d.js"><link rel="prefetch" href="/assets/js/13.9157946b.js"><link rel="prefetch" href="/assets/js/14.b003cc95.js"><link rel="prefetch" href="/assets/js/15.eeed7753.js"><link rel="prefetch" href="/assets/js/16.9c8b3052.js"><link rel="prefetch" href="/assets/js/17.cda06e6e.js"><link rel="prefetch" href="/assets/js/18.1218ce2c.js"><link rel="prefetch" href="/assets/js/19.57a836fd.js"><link rel="prefetch" href="/assets/js/2.a090f902.js"><link rel="prefetch" href="/assets/js/20.e43cf93b.js"><link rel="prefetch" href="/assets/js/21.808f51b4.js"><link rel="prefetch" href="/assets/js/22.64fddfae.js"><link rel="prefetch" href="/assets/js/23.74df12f9.js"><link rel="prefetch" href="/assets/js/24.4da89d00.js"><link rel="prefetch" href="/assets/js/25.ac23388a.js"><link rel="prefetch" href="/assets/js/26.04cf0570.js"><link rel="prefetch" href="/assets/js/27.3677b4de.js"><link rel="prefetch" href="/assets/js/30.884c5607.js"><link rel="prefetch" href="/assets/js/31.1ebf2d71.js"><link rel="prefetch" href="/assets/js/32.4356597d.js"><link rel="prefetch" href="/assets/js/33.c356ff2f.js"><link rel="prefetch" href="/assets/js/34.f8166a1c.js"><link rel="prefetch" href="/assets/js/35.42bab231.js"><link rel="prefetch" href="/assets/js/36.49a49190.js"><link rel="prefetch" href="/assets/js/37.cbb07ac8.js"><link rel="prefetch" href="/assets/js/38.813b086d.js"><link rel="prefetch" href="/assets/js/39.6533b601.js"><link rel="prefetch" href="/assets/js/40.ba45cf57.js"><link rel="prefetch" href="/assets/js/41.37f8273e.js"><link rel="prefetch" href="/assets/js/42.4d51ddaa.js"><link rel="prefetch" href="/assets/js/43.c6220f9f.js"><link rel="prefetch" href="/assets/js/44.460d5341.js"><link rel="prefetch" href="/assets/js/45.22f96577.js"><link rel="prefetch" href="/assets/js/46.53cafe89.js"><link rel="prefetch" href="/assets/js/47.e7ccc421.js"><link rel="prefetch" href="/assets/js/48.3b9d8e6d.js"><link rel="prefetch" href="/assets/js/49.04af4d4a.js"><link rel="prefetch" href="/assets/js/5.2909c194.js"><link rel="prefetch" href="/assets/js/50.a0bdf965.js"><link rel="prefetch" href="/assets/js/51.edd28156.js"><link rel="prefetch" href="/assets/js/52.d4a3b710.js"><link rel="prefetch" href="/assets/js/53.04b39236.js"><link rel="prefetch" href="/assets/js/54.81620729.js"><link rel="prefetch" href="/assets/js/55.7bf9f040.js"><link rel="prefetch" href="/assets/js/56.4de7d5f0.js"><link rel="prefetch" href="/assets/js/57.b60c6835.js"><link rel="prefetch" href="/assets/js/58.77910637.js"><link rel="prefetch" href="/assets/js/59.1aa7ff99.js"><link rel="prefetch" href="/assets/js/6.5755ad1f.js"><link rel="prefetch" href="/assets/js/60.e9a6bf41.js"><link rel="prefetch" href="/assets/js/61.c9329aad.js"><link rel="prefetch" href="/assets/js/62.2faf3620.js"><link rel="prefetch" href="/assets/js/63.b6f31d2a.js"><link rel="prefetch" href="/assets/js/64.6a84b2f7.js"><link rel="prefetch" href="/assets/js/65.0aef7e03.js"><link rel="prefetch" href="/assets/js/66.6bcf90cf.js"><link rel="prefetch" href="/assets/js/67.cfda4a02.js"><link rel="prefetch" href="/assets/js/68.3023df8f.js"><link rel="prefetch" href="/assets/js/69.08e912c2.js"><link rel="prefetch" href="/assets/js/7.9c7c64bc.js"><link rel="prefetch" href="/assets/js/70.d88eeb6d.js"><link rel="prefetch" href="/assets/js/71.769adff5.js"><link rel="prefetch" href="/assets/js/72.20f8a538.js"><link rel="prefetch" href="/assets/js/73.d8fd969c.js"><link rel="prefetch" href="/assets/js/74.7ca6d605.js"><link rel="prefetch" href="/assets/js/75.b1f646c5.js"><link rel="prefetch" href="/assets/js/76.a7d832fa.js"><link rel="prefetch" href="/assets/js/77.29aff629.js"><link rel="prefetch" href="/assets/js/78.81a32dc1.js"><link rel="prefetch" href="/assets/js/79.7e3d9dc6.js"><link rel="prefetch" href="/assets/js/80.e890a809.js"><link rel="prefetch" href="/assets/js/81.bcd2857b.js"><link rel="prefetch" href="/assets/js/82.d356f50b.js"><link rel="prefetch" href="/assets/js/83.7c347a04.js"><link rel="prefetch" href="/assets/js/84.1c189765.js"><link rel="prefetch" href="/assets/js/85.307f14a6.js"><link rel="prefetch" href="/assets/js/86.a629bd79.js"><link rel="prefetch" href="/assets/js/87.5f985e93.js"><link rel="prefetch" href="/assets/js/88.e219665f.js"><link rel="prefetch" href="/assets/js/89.bb704793.js"><link rel="prefetch" href="/assets/js/9.81ec1d48.js"><link rel="prefetch" href="/assets/js/90.80958674.js"><link rel="prefetch" href="/assets/js/91.44221fa5.js"><link rel="prefetch" href="/assets/js/92.eacd3c17.js"><link rel="prefetch" href="/assets/js/93.9c8b5e7c.js"><link rel="prefetch" href="/assets/js/94.83374c54.js">
    <link rel="stylesheet" href="/assets/css/0.styles.f4681fd9.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Documentation</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/getstarted/" class="nav-link">Get Started</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="System guide" class="dropdown-title"><span class="title">System guide</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/guide/" class="nav-link">Introduction</a></li><li class="dropdown-item"><h4></h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/hub/" class="nav-link">Hub</a></li><li class="dropdown-subitem"><a href="/manager/" class="nav-link router-link-active">Manager</a></li><li class="dropdown-subitem"><a href="/web/" class="nav-link">Portal (web)</a></li><li class="dropdown-subitem"><a href="/hardware/" class="nav-link">Embedded/Hardware</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/api/" class="nav-link">API</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Learn more" class="dropdown-title"><span class="title">Learn more</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/reference/" class="nav-link">System Reference</a></li><li class="dropdown-item"><!----> <a href="/faq/faq_general.html" class="nav-link">FAQ</a></li><li class="dropdown-item"><!----> <a href="/troubleshoot/" class="nav-link">Troubleshoot</a></li></ul></div></div><div class="nav-item"><a href="https://rtloc.com/ticket" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Support
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/getstarted/" class="nav-link">Get Started</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="System guide" class="dropdown-title"><span class="title">System guide</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/guide/" class="nav-link">Introduction</a></li><li class="dropdown-item"><h4></h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/hub/" class="nav-link">Hub</a></li><li class="dropdown-subitem"><a href="/manager/" class="nav-link router-link-active">Manager</a></li><li class="dropdown-subitem"><a href="/web/" class="nav-link">Portal (web)</a></li><li class="dropdown-subitem"><a href="/hardware/" class="nav-link">Embedded/Hardware</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/api/" class="nav-link">API</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Learn more" class="dropdown-title"><span class="title">Learn more</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/reference/" class="nav-link">System Reference</a></li><li class="dropdown-item"><!----> <a href="/faq/faq_general.html" class="nav-link">FAQ</a></li><li class="dropdown-item"><!----> <a href="/troubleshoot/" class="nav-link">Troubleshoot</a></li></ul></div></div><div class="nav-item"><a href="https://rtloc.com/ticket" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Support
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Main functionality</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/manager/cxRTLS_layout.html" class="sidebar-link">Program layout</a></li><li><a href="/manager/cxRTLS_config.html" class="sidebar-link">Config</a></li><li><a href="/manager/cxRTLS_cross.html" class="sidebar-link">Cross</a></li><li><a href="/manager/cxRTLS_fwup.html" class="active sidebar-link">Firmware Update</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/manager/cxRTLS_fwup.html#verify-the-version" class="sidebar-link">Verify the version</a></li><li class="sidebar-sub-header"><a href="/manager/cxRTLS_fwup.html#import-fws-in-rtmanager" class="sidebar-link">Import FWs in RTManager</a></li><li class="sidebar-sub-header"><a href="/manager/cxRTLS_fwup.html#update-the-nodes" class="sidebar-link">Update the Nodes</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/manager/cxRTLS_fwup.html#ota-system" class="sidebar-link">OTA System</a></li><li class="sidebar-sub-header"><a href="/manager/cxRTLS_fwup.html#ota-local" class="sidebar-link">OTA Local</a></li><li class="sidebar-sub-header"><a href="/manager/cxRTLS_fwup.html#usb" class="sidebar-link">USB</a></li><li class="sidebar-sub-header"><a href="/manager/cxRTLS_fwup.html#programmer" class="sidebar-link">Programmer</a></li></ul></li></ul></li><li><a href="/manager/cxRTLS_logconn.html" class="sidebar-link">Connection log</a></li><li><a href="/manager/cxRTLS_replay.html" class="sidebar-link">Replay</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Advanced</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="firmware-update"><a href="#firmware-update" class="header-anchor">#</a> Firmware Update</h1> <p>Whenever a new firmware is released or when you built your own with the DevKit, there are multiple ways to deploy that firmware to the system.
In this document you can learn how to install the version you want on your system.</p> <h2 id="verify-the-version"><a href="#verify-the-version" class="header-anchor">#</a> Verify the version</h2> <p>In the panel <em>'Deca Version'</em>, you can verify the current version of all the tags and anchors.
The version will appear here once the system has received the information from the node. This will happen automatically. Keep in mind however that after booting the RTManager, it might take some time before all the information is collected (typically 20 seconds).</p> <p><img src="/assets/img/fwup_version.d4575170.png" alt="fwup_version"></p> <h2 id="import-fws-in-rtmanager"><a href="#import-fws-in-rtmanager" class="header-anchor">#</a> Import FWs in RTManager</h2> <p>Before you can update a node, you need to import the firmware in RTManager. Doing this is easy. First drag and drop the binary you want into the following directory:</p> <div class="language- extra-class"><pre class="language-text"><code>c:\cxRTLS\bin\
</code></pre></div><p>The name of the file doesn't matter. You can drag in any type (tag, anchor, listener or fwloader) of firmware into this directory, the software will handle.
<img src="/assets/img/fwup_import_1.5537023d.png" alt="fwup_import1"></p> <p>After doing this, press <em>'Search Bin'</em> in the lower left corner of the screen.
<img src="/assets/img/fwup_import_2.797b6f34.png" alt="fwup_import2"></p> <p>Upon pressing the button, the firmwares will be imported in the system. You can verify the details in the <em>'Firmwarefiles'</em> panel.
<img src="/assets/img/fwup_import_3.b29748b8.png" alt="fwup_import3"></p> <p>Here you have a full example:
<img src="/assets/img/fwup_import.45dbf79c.gif" alt="fwup_import"></p> <h2 id="update-the-nodes"><a href="#update-the-nodes" class="header-anchor">#</a> Update the Nodes</h2> <p>There are 3 ways to update a node:</p> <ul><li>Over-The-Air (OTA)</li> <li>Via USB cable</li> <li>By reflashing the board</li></ul> <p>Whenever your system is all set up and running, the easiest way is to perform an Over-The-Air (OTA) update. Everything can be done from within RTManager and no physical interactions are required. You can also update individual nodes by connecting it to the computer with a USB cable. In case you have a board that has never been flashed before or if you want to update the bootloader, you can use a programmer and the provided scripts.</p> <h3 id="ota-system"><a href="#ota-system" class="header-anchor">#</a> OTA System</h3> <p>The OTA system consists of 2 steps. First you need to force the nodes you want into update mode. Then you can update it with the firmware of choice.</p> <blockquote><p><code>Note:</code> The <em>'min FW'</em> in the upper right corner will determine the minimum required version for anchor- and tag firmware to load on the nodes. If these numbers are different from zero, you can only send versions that are equal or higher. This way you can prevent sending incompatible versions to the nodes.</p></blockquote> <h4 id="put-the-node-in-fw-update-mode"><a href="#put-the-node-in-fw-update-mode" class="header-anchor">#</a> Put the node in FW Update mode</h4> <p>First you need to select the firmware you want to update the node with in the <em>'Firmwarefiles'</em> panel.
You will also need to select the method of transfer.
<img src="/assets/img/fwup_ota_method1.4a1bf4d8.png" alt="fwup_ota_method1"></p> <p>The <code>Internal</code> method makes that the firmware that is available on the wired anchor will be distributed. This method is fast, but limits you to a single firmware version.</p> <p>The <code>External</code> method will take the file from the PC and send it to the node. This makes that you can send any version you want (as long as it is available on the PC).</p> <p><img src="/assets/img/fwup_ota_method2.b852bca9.png" alt="fwup_ota_method2"></p> <p>Now select the node you want to update in the <em>'Deca Module'</em> panel and press <em>'ForceUpd'</em> .</p> <p><img src="/assets/img/fwup_ota_forceupd.fb1ef9b1.png" alt="fwup_ota_forceupd"></p> <p>The node will exit the current firmware it is running and jump to its firmware loader.</p> <p><img src="/assets/img/fwup_process.7ab15f47.gif" alt="fwup_process"></p> <h4 id="update-of-the-fw-tracking-the-progress"><a href="#update-of-the-fw-tracking-the-progress" class="header-anchor">#</a> Update of the FW &amp; Tracking the progress</h4> <p>The update will start immediately. The progress of all the individual nodes can be tracked in the '<em>Deca Module'</em> panel. A loading bar will appear under the column <em>'UpdBytes'</em>. You can see which how many and which parts are still missing.</p> <p>You can repeat the process for any of the nodes you want to update.
You don't have to wait for other nodes to be finished to start other updates.</p> <h3 id="ota-local"><a href="#ota-local" class="header-anchor">#</a> OTA Local <span class="badge error" style="vertical-align:top;" data-v-c13ee5b0>under development</span></h3> <p>This method will make it possible to connect an anchor via USB to your host and update all other nodes wirelessly. This will happen without the need for a listener and a network connection to your anchor will not be required.</p> <h3 id="usb"><a href="#usb" class="header-anchor">#</a> USB</h3> <p>If you don't have any infrastructure available or you miss a TCP connection to your anchor(s), the USB firmware update might help you out.
Connect the node you want to update via a USB cable to the host computer and <a href="TODO">open the connection</a>.
Force the node into BootLoader by pressing on <em>'BootLoader'</em>. Select the firmware you want to upload in the Firmware screen. The selected FW will appear in the USB window.</p> <p><img src="/assets/img/fwup_usb_version.d12a3ae1.png" alt="fwup_usb_version"></p> <p>Press <em>'Send'</em> to start the upload. The progress bar of the update will appear.</p> <p><img src="/assets/img/fwup_usb_progress.3a584557.png" alt="fwup_usb_progress"></p> <p>When the update is done, the node will automatically boot its new FW.</p> <h3 id="programmer"><a href="#programmer" class="header-anchor">#</a> Programmer</h3> <p>Connect the programmer of choice (J-Link Segger or different) to the JTAG header of the node.
If you have access to the ctx_taglib, you can find the scripts in:</p> <div class="language- extra-class"><pre class="language-text"><code>PATH_TO_LIB/ctx_taglib/scripts/
</code></pre></div><p>...
<a href="LINKREQUIRED">Click here</a> for more information on setting up the toolchain.</p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">10/13/2019, 11:59:57 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/manager/cxRTLS_cross.html" class="prev">Cross</a></span> <span class="next"><a href="/manager/cxRTLS_logconn.html">Connection log</a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----><!----></div></div>
    <script src="/assets/js/app.5c9a409e.js" defer></script><script src="/assets/js/4.3a034228.js" defer></script><script src="/assets/js/8.1b2c21f7.js" defer></script><script src="/assets/js/29.b88cfbbd.js" defer></script><script src="/assets/js/28.72a68e7b.js" defer></script>
  </body>
</html>

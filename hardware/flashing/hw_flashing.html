<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Flashing the boards | Documentation</title>
    <meta name="description" content="Your guide to RTLOC&#39;s positioning products">
    <link rel="icon" href="/img/logo.png">
  <link rel="manifest" href="/manifest.json">
  <meta name="theme-color" content="#095A9E">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <link rel="apple-touch-icon" href="/icons/apple-touch-icon.png">
  <link rel="mask-icon" href="/icons/safari-pinned-tab.svg" color="#095A9E">
  <meta name="msapplication-TileImage" content="/icons/mstile-150x150.png">
  <meta name="msapplication-TileColor" content="#000000">
  <script>!function(){var analytics=window.analytics=window.analytics||[];if(!analytics.initialize)if(analytics.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{analytics.invoked=!0;analytics.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","reset","group","track","ready","alias","debug","page","once","off","on"];analytics.factory=function(t){return function(){var e=Array.prototype.slice.call(arguments);e.unshift(t);analytics.push(e);return analytics}};for(var t=0;t<analytics.methods.length;t++){var e=analytics.methods[t];analytics[e]=analytics.factory(e)}analytics.load=function(t,e){var n=document.createElement("script");n.type="text/javascript";n.async=!0;n.src="https://cdn.segment.com/analytics.js/v1/"+t+"/analytics.min.js";var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(n,a);analytics._loadOptions=e};analytics.SNIPPET_VERSION="4.1.0";
    analytics.load("6B7vSa8ecCLBUEiWTPbvB5xNfm9aMMSE");
    analytics.page();
    }}();</script>
    
    <link rel="preload" href="/assets/css/0.styles.f4681fd9.css" as="style"><link rel="preload" href="/assets/js/app.5c9a409e.js" as="script"><link rel="preload" href="/assets/js/4.3a034228.js" as="script"><link rel="preload" href="/assets/js/17.cda06e6e.js" as="script"><link rel="preload" href="/assets/js/28.72a68e7b.js" as="script"><link rel="prefetch" href="/assets/js/1.d348f952.js"><link rel="prefetch" href="/assets/js/10.78d8cfed.js"><link rel="prefetch" href="/assets/js/11.97542590.js"><link rel="prefetch" href="/assets/js/12.4190be1d.js"><link rel="prefetch" href="/assets/js/13.9157946b.js"><link rel="prefetch" href="/assets/js/14.b003cc95.js"><link rel="prefetch" href="/assets/js/15.eeed7753.js"><link rel="prefetch" href="/assets/js/16.9c8b3052.js"><link rel="prefetch" href="/assets/js/18.1218ce2c.js"><link rel="prefetch" href="/assets/js/19.57a836fd.js"><link rel="prefetch" href="/assets/js/2.a090f902.js"><link rel="prefetch" href="/assets/js/20.e43cf93b.js"><link rel="prefetch" href="/assets/js/21.808f51b4.js"><link rel="prefetch" href="/assets/js/22.64fddfae.js"><link rel="prefetch" href="/assets/js/23.74df12f9.js"><link rel="prefetch" href="/assets/js/24.4da89d00.js"><link rel="prefetch" href="/assets/js/25.ac23388a.js"><link rel="prefetch" href="/assets/js/26.04cf0570.js"><link rel="prefetch" href="/assets/js/27.3677b4de.js"><link rel="prefetch" href="/assets/js/29.b88cfbbd.js"><link rel="prefetch" href="/assets/js/30.884c5607.js"><link rel="prefetch" href="/assets/js/31.1ebf2d71.js"><link rel="prefetch" href="/assets/js/32.4356597d.js"><link rel="prefetch" href="/assets/js/33.c356ff2f.js"><link rel="prefetch" href="/assets/js/34.f8166a1c.js"><link rel="prefetch" href="/assets/js/35.42bab231.js"><link rel="prefetch" href="/assets/js/36.49a49190.js"><link rel="prefetch" href="/assets/js/37.cbb07ac8.js"><link rel="prefetch" href="/assets/js/38.813b086d.js"><link rel="prefetch" href="/assets/js/39.6533b601.js"><link rel="prefetch" href="/assets/js/40.ba45cf57.js"><link rel="prefetch" href="/assets/js/41.37f8273e.js"><link rel="prefetch" href="/assets/js/42.4d51ddaa.js"><link rel="prefetch" href="/assets/js/43.c6220f9f.js"><link rel="prefetch" href="/assets/js/44.460d5341.js"><link rel="prefetch" href="/assets/js/45.22f96577.js"><link rel="prefetch" href="/assets/js/46.53cafe89.js"><link rel="prefetch" href="/assets/js/47.e7ccc421.js"><link rel="prefetch" href="/assets/js/48.3b9d8e6d.js"><link rel="prefetch" href="/assets/js/49.04af4d4a.js"><link rel="prefetch" href="/assets/js/5.2909c194.js"><link rel="prefetch" href="/assets/js/50.a0bdf965.js"><link rel="prefetch" href="/assets/js/51.edd28156.js"><link rel="prefetch" href="/assets/js/52.d4a3b710.js"><link rel="prefetch" href="/assets/js/53.04b39236.js"><link rel="prefetch" href="/assets/js/54.81620729.js"><link rel="prefetch" href="/assets/js/55.7bf9f040.js"><link rel="prefetch" href="/assets/js/56.4de7d5f0.js"><link rel="prefetch" href="/assets/js/57.b60c6835.js"><link rel="prefetch" href="/assets/js/58.77910637.js"><link rel="prefetch" href="/assets/js/59.1aa7ff99.js"><link rel="prefetch" href="/assets/js/6.5755ad1f.js"><link rel="prefetch" href="/assets/js/60.e9a6bf41.js"><link rel="prefetch" href="/assets/js/61.c9329aad.js"><link rel="prefetch" href="/assets/js/62.2faf3620.js"><link rel="prefetch" href="/assets/js/63.b6f31d2a.js"><link rel="prefetch" href="/assets/js/64.6a84b2f7.js"><link rel="prefetch" href="/assets/js/65.0aef7e03.js"><link rel="prefetch" href="/assets/js/66.6bcf90cf.js"><link rel="prefetch" href="/assets/js/67.cfda4a02.js"><link rel="prefetch" href="/assets/js/68.3023df8f.js"><link rel="prefetch" href="/assets/js/69.08e912c2.js"><link rel="prefetch" href="/assets/js/7.9c7c64bc.js"><link rel="prefetch" href="/assets/js/70.d88eeb6d.js"><link rel="prefetch" href="/assets/js/71.769adff5.js"><link rel="prefetch" href="/assets/js/72.20f8a538.js"><link rel="prefetch" href="/assets/js/73.d8fd969c.js"><link rel="prefetch" href="/assets/js/74.7ca6d605.js"><link rel="prefetch" href="/assets/js/75.b1f646c5.js"><link rel="prefetch" href="/assets/js/76.a7d832fa.js"><link rel="prefetch" href="/assets/js/77.29aff629.js"><link rel="prefetch" href="/assets/js/78.81a32dc1.js"><link rel="prefetch" href="/assets/js/79.7e3d9dc6.js"><link rel="prefetch" href="/assets/js/8.1b2c21f7.js"><link rel="prefetch" href="/assets/js/80.e890a809.js"><link rel="prefetch" href="/assets/js/81.bcd2857b.js"><link rel="prefetch" href="/assets/js/82.d356f50b.js"><link rel="prefetch" href="/assets/js/83.7c347a04.js"><link rel="prefetch" href="/assets/js/84.1c189765.js"><link rel="prefetch" href="/assets/js/85.307f14a6.js"><link rel="prefetch" href="/assets/js/86.a629bd79.js"><link rel="prefetch" href="/assets/js/87.5f985e93.js"><link rel="prefetch" href="/assets/js/88.e219665f.js"><link rel="prefetch" href="/assets/js/89.bb704793.js"><link rel="prefetch" href="/assets/js/9.81ec1d48.js"><link rel="prefetch" href="/assets/js/90.80958674.js"><link rel="prefetch" href="/assets/js/91.44221fa5.js"><link rel="prefetch" href="/assets/js/92.eacd3c17.js"><link rel="prefetch" href="/assets/js/93.9c8b5e7c.js"><link rel="prefetch" href="/assets/js/94.83374c54.js">
    <link rel="stylesheet" href="/assets/css/0.styles.f4681fd9.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Documentation</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/getstarted/" class="nav-link">Get Started</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="System guide" class="dropdown-title"><span class="title">System guide</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/guide/" class="nav-link">Introduction</a></li><li class="dropdown-item"><h4></h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/hub/" class="nav-link">Hub</a></li><li class="dropdown-subitem"><a href="/manager/" class="nav-link">Manager</a></li><li class="dropdown-subitem"><a href="/web/" class="nav-link">Portal (web)</a></li><li class="dropdown-subitem"><a href="/hardware/" class="nav-link router-link-active">Embedded/Hardware</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/api/" class="nav-link">API</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Learn more" class="dropdown-title"><span class="title">Learn more</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/reference/" class="nav-link">System Reference</a></li><li class="dropdown-item"><!----> <a href="/faq/faq_general.html" class="nav-link">FAQ</a></li><li class="dropdown-item"><!----> <a href="/troubleshoot/" class="nav-link">Troubleshoot</a></li></ul></div></div><div class="nav-item"><a href="https://rtloc.com/ticket" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Support
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/getstarted/" class="nav-link">Get Started</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="System guide" class="dropdown-title"><span class="title">System guide</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/guide/" class="nav-link">Introduction</a></li><li class="dropdown-item"><h4></h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/hub/" class="nav-link">Hub</a></li><li class="dropdown-subitem"><a href="/manager/" class="nav-link">Manager</a></li><li class="dropdown-subitem"><a href="/web/" class="nav-link">Portal (web)</a></li><li class="dropdown-subitem"><a href="/hardware/" class="nav-link router-link-active">Embedded/Hardware</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/api/" class="nav-link">API</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Learn more" class="dropdown-title"><span class="title">Learn more</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/reference/" class="nav-link">System Reference</a></li><li class="dropdown-item"><!----> <a href="/faq/faq_general.html" class="nav-link">FAQ</a></li><li class="dropdown-item"><!----> <a href="/troubleshoot/" class="nav-link">Troubleshoot</a></li></ul></div></div><div class="nav-item"><a href="https://rtloc.com/ticket" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Support
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Building &amp; Flashing</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/hardware/flashing/hw_building.html" class="sidebar-link">Building</a></li><li><a href="/hardware/flashing/hw_flashing.html" class="active sidebar-link">Flashing</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/hardware/flashing/hw_flashing.html#easy-re-flashing" class="sidebar-link">Easy (re-)flashing</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/hardware/flashing/hw_flashing.html#rtloc-app" class="sidebar-link">RTLOC app</a></li><li class="sidebar-sub-header"><a href="/hardware/flashing/hw_flashing.html#rtmanager-over-the-air-updating" class="sidebar-link">RTManager: over-the-air updating</a></li></ul></li><li class="sidebar-sub-header"><a href="/hardware/flashing/hw_flashing.html#architecture" class="sidebar-link">Architecture</a></li><li class="sidebar-sub-header"><a href="/hardware/flashing/hw_flashing.html#flashing" class="sidebar-link">Flashing</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/hardware/flashing/hw_flashing.html#prerequisites" class="sidebar-link">Prerequisites</a></li><li class="sidebar-sub-header"><a href="/hardware/flashing/hw_flashing.html#nrfjprog" class="sidebar-link">nrfjprog</a></li><li class="sidebar-sub-header"><a href="/hardware/flashing/hw_flashing.html#scripts" class="sidebar-link">Scripts</a></li></ul></li><li class="sidebar-sub-header"><a href="/hardware/flashing/hw_flashing.html#verification" class="sidebar-link">Verification</a></li></ul></li><li><a href="/hardware/hw_boards.html" class="sidebar-link">Boards</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Interfaces</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="flashing-the-boards"><a href="#flashing-the-boards" class="header-anchor">#</a> Flashing the boards</h1> <p>In order to get the boards running, we need to flash the correct (latest and greatest) firmware on the boards.
How that is done is explained here.</p> <h2 id="easy-re-flashing"><a href="#easy-re-flashing" class="header-anchor">#</a> Easy (re-)flashing</h2> <h3 id="rtloc-app"><a href="#rtloc-app" class="header-anchor">#</a> RTLOC app</h3> <p>You can easily (re-)flash your hardware using our app. In the firmware tab get and select the appropriate firmware. Then press the &quot;flash firmware&quot; button and check completion in the console. The &quot;flash all&quot; checkbox allows to also re-flash bootloader and firmware loader when flashing firmware.</p> <p><img src="/assets/img/tray_flash.45dd9f73.png" alt="Flash from app"></p> <h3 id="rtmanager-over-the-air-updating"><a href="#rtmanager-over-the-air-updating" class="header-anchor">#</a> RTManager: over-the-air updating</h3> <p>We also support over-the-air (OTA) firmware updates. From our RTManager app, a firmware can be selected to be downloaded and installed over UWB by all devices.</p> <h2 id="architecture"><a href="#architecture" class="header-anchor">#</a> Architecture</h2> <p>The flash architecture is as follows:</p> <p>---- 0x0</p> <p>S132 SOFTDEVICE</p> <p>---- 0x24000</p> <p>CURRENTLY EMPTY</p> <p>---- 0x26000</p> <p>APPLICATION</p> <p>---- 0x40000</p> <p>CURRENTLY EMPTY</p> <p>---- 0x80000</p> <p>We need to make sure the softdevice and the firmware are flashed.
Once the softdevice is flashed, you will not need to update it again. Firmwares can be updated.</p> <h2 id="flashing"><a href="#flashing" class="header-anchor">#</a> Flashing</h2> <h3 id="prerequisites"><a href="#prerequisites" class="header-anchor">#</a> Prerequisites</h3> <p>In order to flash the boards, you need to have a tool installed that can do the trick.
This can be done with <code>nrfjprog</code> or <code>J-Flash Light</code> tool. Here we will explain <code>nrfjprog</code>.
Whenever you have installed the tool, all you need to do is run the scripts that are provided (and make sure the scripts are referring to the correct binary file). Make sure you have downloaded the last scripts &amp; binaries.</p> <h3 id="nrfjprog"><a href="#nrfjprog" class="header-anchor">#</a> nrfjprog</h3> <p>nrfjprog is a command line tool that we can call from the Command Prompt(win)/terminal(linux).
More information on how to install and use nrfjprog can be found <a href="http://infocenter.nordicsemi.com/index.jsp?topic=%2Fcom.nordic.infocenter.tools%2Fdita%2Ftools%2Fnrf5x_command_line_tools%2Fnrf5x_command_line_tools_lpage.html" target="_blank" rel="noopener noreferrer">here<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.
Note that you don't really need to know how to use it, as this will be done in the scripts.</p> <h3 id="scripts"><a href="#scripts" class="header-anchor">#</a> Scripts</h3> <p>The scripts are provided for Windows and Linux. A script is provided to flash the Softdevice in case that hasn't been done yet and a separate script is to flash the firmware.</p> <h4 id="windows"><a href="#windows" class="header-anchor">#</a> Windows</h4> <p>Find the following file in the file explorer and double-click it:</p> <div class="language- extra-class"><pre class="language-text"><code>[PATH_TO]/current/scripts/f_tag.bat
</code></pre></div><p>You should see something similar:</p> <p><img src="/assets/img/flashing_win_success.9df3730e.png" alt="flashing windows success" title="Flashing Windows Success"></p> <p>If this is the case, you can skip the rest of this paragraph.</p> <p>It could be that the board is not well attached to the PC (especially when you're running a VM). You might see the following in this case:</p> <p><img src="/assets/img/flashing_win_fail.1079493d.png" alt="flashing windows fail" title="Flashing Windows Fail"></p> <p>Make sure the board is recognized by the PC. You should see the <em>JLink CDC UART port</em> in the Device Manager:</p> <p><img src="/assets/img/flashing_device_manager.51c6ffb5.png" alt="flashing device manager" title="Flashing Device Manager"></p> <h4 id="linux"><a href="#linux" class="header-anchor">#</a> Linux</h4> <p>Change the active directory in the terminal to:</p> <div class="language- extra-class"><pre class="language-text"><code>cd [PATH_TO]/current/scripts/
</code></pre></div><p>and run the following script:</p> <div class="language- extra-class"><pre class="language-text"><code>./f_tag.sh
</code></pre></div><p>You should see something like this:
<img src="/assets/img/flashing_linux_success.e2183792.png" alt="flashing linux success" title="Flashing Linux Success"></p> <h2 id="verification"><a href="#verification" class="header-anchor">#</a> Verification</h2> <p>If you have successfully flashed the board, it will automatically restart and start running.
The third LED from the top should start blinking red and green after a couple of seconds. This means it is sending and receiving packets. Did this not work? Try to reset the tag by replugging the USB cable. If it is still not working, try to reflash.
You can also verify that you can make a BLE connection. You can find more information on BLE <a href="/hardware/flashing/hw_interface_ble.html">here</a>.</p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">10/10/2019, 10:49:36 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/hardware/flashing/hw_building.html" class="prev">Building</a></span> <span class="next"><a href="/hardware/hw_boards.html">Boards</a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----><!----></div></div>
    <script src="/assets/js/app.5c9a409e.js" defer></script><script src="/assets/js/4.3a034228.js" defer></script><script src="/assets/js/17.cda06e6e.js" defer></script><script src="/assets/js/28.72a68e7b.js" defer></script>
  </body>
</html>
